!function(){"use strict";function e(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=document.querySelector(".header__btn"),l=document.querySelector(".nav"),t=e(l.querySelectorAll(".nav__link--submenu")),o=e(l.querySelectorAll(".nav__submenu-wrap")),r=document.querySelector(".overlay"),a=e(document.querySelectorAll(".modal"));c&&c.addEventListener("click",function(){c.classList.toggle("toggle"),r.classList.toggle("show"),l.classList.toggle("open")}),r.addEventListener("click",function(){if((c.classList.contains("toggle")||l.classList.contains("open"))&&(c.classList.remove("toggle"),r.classList.remove("show"),l.classList.remove("open")),0<a.length){var e=!0,t=!1,o=void 0;try{for(var n,s=a[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){n.value.classList.remove("show")}}catch(e){t=!0,o=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw o}}r.classList.remove("show","show-modal")}}),document.documentElement.clientWidth<=1170&&t.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),o[t].classList.toggle("open")})});var n,s,i=document.querySelector(".user__menu-link--submenu");i&&(s="open",(n=i).addEventListener("click",function(e){e.preventDefault(),n.classList.toggle(s)}));var u=e(document.querySelectorAll(".scheduler-food__btn-submenu")),d=e(document.querySelectorAll(".scheduler-food__item-dropdown"));0<u.length&&u.forEach(function(e,t){e.addEventListener("click",function(){e.classList.toggle("open"),d[t].classList.toggle("open")})});var m=e(document.querySelectorAll(".buy__item-arrow")),v=e(document.querySelectorAll(".buy__item-dropdown"));0<m.length&&m.forEach(function(t,o){t.addEventListener("click",function(){if(t.classList.contains("open"))t.classList.remove("open"),v[o].classList.remove("open"),v[o].parentElement.classList.remove("open");else{for(var e=0;e<m.length;e++)m[e].classList.remove("open"),v[e].classList.remove("open"),v[e].parentElement.classList.remove("open");t.classList.add("open"),v[o].classList.add("open"),v[o].parentElement.classList.add("open")}})});var h=e(document.querySelectorAll(".buy__item-action")),L=e(document.querySelectorAll(".buy__item-action + .actions"));0<h.length&&h.forEach(function(t,o){t.addEventListener("click",function(){if(t.classList.contains("show"))t.classList.remove("show"),L[o].classList.remove("show");else{for(var e=0;e<h.length;e++)h[e].classList.remove("show"),L[e].classList.remove("show");t.classList.add("show"),L[o].classList.add("show")}})}),document.documentElement.addEventListener("click",function(e){var t=document.createElement("div"),o=document.querySelector(".actions.show")||t,n=document.querySelector(".buy__item-action.show")||t;e.target===n||e.target===o||o.contains(e.target)||(o.classList.remove("show"),n.classList.remove("show"))});var f=e(document.querySelectorAll(".modal")),y=e(document.querySelectorAll(".modal__btn-close")),g=document.querySelector(".overlay"),w=e(document.querySelectorAll(".buy__item-add")),p=document.querySelector(".modal--buy");0<w.length&&w.forEach(function(e){e.addEventListener("click",function(){g.classList.add("show","show-modal"),p.classList.add("show")})}),0<y.length&&y.forEach(function(e,t){e.addEventListener("click",function(){f[t].classList.remove("show"),g.classList.remove("show","show-modal")})});var _=e(document.querySelectorAll(".modal-add-user")),E=document.querySelector(".modal--add-user");0<_.length&&_.forEach(function(e){e.addEventListener("click",function(){g.classList.add("show","show-modal"),E.classList.add("show")})})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyb250ZW5kL2pzL21lbnUuanMiLCJmcm9udGVuZC9qcy90b2dnbGVDbGFzcy5qcyIsImZyb250ZW5kL2pzL21vZGFsLmpzIl0sIm5hbWVzIjpbImJ0blRvZ2dsZU1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZW51IiwiaXRlbXNTdWJtZW51IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsInN1Ym1lbnVzIiwib3ZlcmxheSIsIm1vZGFscyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjb250YWlucyIsInJlbW92ZSIsImxlbmd0aCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwidW5kZWZpbmVkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZWxlbWVudCIsImNsYXNzTmFtZSIsInVzZXJTdWJtZW51Iiwic2NoZWR1bGVySXRlbUJ1dHRvbnMiLCJzY2hlZHVsZXJTdWJtZW51IiwiYnRuIiwiYnV5SXRlbUJ1dHRvbnMiLCJidXlJdGVtRHJvcGRvd24iLCJwYXJlbnRFbGVtZW50IiwiaSIsImFkZCIsImJ1eUl0ZW1BY3Rpb25zIiwiYWN0aW9ucyIsImVsZW0iLCJjcmVhdGVFbGVtZW50Iiwib3BlbkFjdGlvbnMiLCJvcGVuQnRuQWN0aW9ucyIsInRhcmdldCIsImNsb3NlTW9kYWxzIiwiYnV0dG9uc09wZW5Nb2RhbEJ1eSIsIm1vZGFsQnV5IiwiYnV0dG9uc09wZW5Nb2RhbEFkZFVzZXIiLCJtb2RhbEFkZFVzZXIiXSwibWFwcGluZ3MiOiI4V0FBQSxJQUFNQSxFQUFn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LEVBQVM3QyxVQUFVbUMsSUFBbkIsWUFLbUIsRUFBckJRLEVBQVl2QyxRQUNkdUMsRUFBWXZCLFFBQVEsU0FBQ1UsRUFBS1IsR0FDeEJRLEVBQUkvQixpQkFBSixRQUE4QixXQUM1QkQsRUFBT3dCLEdBQU90QixVQUFVRyxPQUF4QixRQUNBTixFQUFRRyxVQUFVRyxPQUFsQixPQUFBLGtCQUtOLElBQU0yQyxFQUF1QnBELEVBQU9KLFNBQVNLLGlCQUFULG9CQUM5Qm9ELEVBQWV6RCxTQUFTQyxjQUFULG9CQUVnQixFQUFqQ3VELEVBQXdCMUMsUUFDMUIwQyxFQUF3QjFCLFFBQVEsU0FBQ1UsR0FDL0JBLEVBQUkvQixpQkFBSixRQUE4QixXQUM1QkYsRUFBUUcsVUFBVW1DLElBQWxCLE9BQUEsY0FDQVksRUFBYS9DLFVBQVVtQyxJQUF2QiIsImZpbGUiOiJmcm9udGVuZC9qcy9tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYnRuVG9nZ2xlTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXJfX2J0bmApO1xuY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5uYXZgKTtcbmNvbnN0IGl0ZW1zU3VibWVudSA9IFsuLi5tZW51LnF1ZXJ5U2VsZWN0b3JBbGwoYC5uYXZfX2xpbmstLXN1Ym1lbnVgKV07XG5jb25zdCBzdWJtZW51cyA9IFsuLi5tZW51LnF1ZXJ5U2VsZWN0b3JBbGwoYC5uYXZfX3N1Ym1lbnUtd3JhcGApXTtcbmNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAub3ZlcmxheWApO1xuY29uc3QgbW9kYWxzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5tb2RhbGApXTtcblxuaWYgKGJ0blRvZ2dsZU1lbnUpIHtcbiAgYnRuVG9nZ2xlTWVudS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsICgpID0+IHtcbiAgICBidG5Ub2dnbGVNZW51LmNsYXNzTGlzdC50b2dnbGUoYHRvZ2dsZWApO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZShgc2hvd2ApO1xuICAgIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZShgb3BlbmApO1xuICB9KTtcbn1cblxub3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsICgpID0+IHtcbiAgY29uc3QgY29uZGl0aW9uID0gYnRuVG9nZ2xlTWVudS5jbGFzc0xpc3QuY29udGFpbnMoYHRvZ2dsZWApXG4gICAgICAgICAgICAgICAgIHx8IG1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKGBvcGVuYCk7XG5cbiAgaWYgKGNvbmRpdGlvbikge1xuICAgIGJ0blRvZ2dsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZShgdG9nZ2xlYCk7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKGBzaG93YCk7XG4gICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKGBvcGVuYCk7XG4gIH1cblxuICBpZiAobW9kYWxzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGNvbnN0IG1vZGFsIG9mIG1vZGFscykge1xuICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShgc2hvd2ApO1xuICAgIH1cbiAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoYHNob3dgLCBgc2hvdy1tb2RhbGApO1xuICB9XG59KTtcblxuaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA8PSAxMTcwKSB7XG4gIGl0ZW1zU3VibWVudS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzdWJtZW51c1tpbmRleF0uY2xhc3NMaXN0LnRvZ2dsZShgb3BlbmApO1xuICAgIH0pO1xuICB9KTtcbn1cbiIsImNvbnN0IHRvZ2dsZUNsYXNzID0gKGVsZW1lbnQsIGNsYXNzTmFtZSkgPT4ge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lKTtcbiAgfSk7XG59O1xuXG5jb25zdCB1c2VyU3VibWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC51c2VyX19tZW51LWxpbmstLXN1Ym1lbnVgKTtcblxuaWYgKHVzZXJTdWJtZW51KSB7XG4gIHRvZ2dsZUNsYXNzKHVzZXJTdWJtZW51LCBgb3BlbmApO1xufVxuXG5jb25zdCBzY2hlZHVsZXJJdGVtQnV0dG9ucyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuc2NoZWR1bGVyLWZvb2RfX2J0bi1zdWJtZW51YCldO1xuY29uc3Qgc2NoZWR1bGVyU3VibWVudSA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuc2NoZWR1bGVyLWZvb2RfX2l0ZW0tZHJvcGRvd25gKV07XG5cbmlmIChzY2hlZHVsZXJJdGVtQnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gIHNjaGVkdWxlckl0ZW1CdXR0b25zLmZvckVhY2goKGJ0biwgaW5kZXgpID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCAoKSA9PiB7XG4gICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZShgb3BlbmApO1xuICAgICAgc2NoZWR1bGVyU3VibWVudVtpbmRleF0uY2xhc3NMaXN0LnRvZ2dsZShgb3BlbmApO1xuICAgIH0pO1xuICB9KTtcbn1cblxuY29uc3QgYnV5SXRlbUJ1dHRvbnMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmJ1eV9faXRlbS1hcnJvd2ApXTtcbmNvbnN0IGJ1eUl0ZW1Ecm9wZG93biA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuYnV5X19pdGVtLWRyb3Bkb3duYCldO1xuXG5pZiAoYnV5SXRlbUJ1dHRvbnMubGVuZ3RoID4gMCkge1xuICBidXlJdGVtQnV0dG9ucy5mb3JFYWNoKChidG4sIGluZGV4KSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKCkgPT4ge1xuICAgICAgaWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoYG9wZW5gKSkge1xuICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZShgb3BlbmApO1xuICAgICAgICBidXlJdGVtRHJvcGRvd25baW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoYG9wZW5gKTtcbiAgICAgICAgYnV5SXRlbURyb3Bkb3duW2luZGV4XS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYG9wZW5gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnV5SXRlbUJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBidXlJdGVtQnV0dG9uc1tpXS5jbGFzc0xpc3QucmVtb3ZlKGBvcGVuYCk7XG4gICAgICAgICAgYnV5SXRlbURyb3Bkb3duW2ldLmNsYXNzTGlzdC5yZW1vdmUoYG9wZW5gKTtcbiAgICAgICAgICBidXlJdGVtRHJvcGRvd25baV0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGBvcGVuYCk7XG4gICAgICAgIH1cblxuICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChgb3BlbmApO1xuICAgICAgICBidXlJdGVtRHJvcGRvd25baW5kZXhdLmNsYXNzTGlzdC5hZGQoYG9wZW5gKTtcbiAgICAgICAgYnV5SXRlbURyb3Bkb3duW2luZGV4XS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoYG9wZW5gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmNvbnN0IGJ1eUl0ZW1BY3Rpb25zID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5idXlfX2l0ZW0tYWN0aW9uYCldO1xuY29uc3QgYWN0aW9ucyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuYnV5X19pdGVtLWFjdGlvbiArIC5hY3Rpb25zYCldO1xuXG5pZiAoYnV5SXRlbUFjdGlvbnMubGVuZ3RoID4gMCkge1xuICBidXlJdGVtQWN0aW9ucy5mb3JFYWNoKChidG4sIGluZGV4KSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKCkgPT4ge1xuICAgICAgaWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoYHNob3dgKSkge1xuICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZShgc2hvd2ApO1xuICAgICAgICBhY3Rpb25zW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKGBzaG93YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1eUl0ZW1BY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYnV5SXRlbUFjdGlvbnNbaV0uY2xhc3NMaXN0LnJlbW92ZShgc2hvd2ApO1xuICAgICAgICAgIGFjdGlvbnNbaV0uY2xhc3NMaXN0LnJlbW92ZShgc2hvd2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoYHNob3dgKTtcbiAgICAgICAgYWN0aW9uc1tpbmRleF0uY2xhc3NMaXN0LmFkZChgc2hvd2ApO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKGV2ZW50KSA9PiB7XG4gIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcbiAgY29uc3Qgb3BlbkFjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYWN0aW9ucy5zaG93YCkgfHwgZWxlbTtcbiAgY29uc3Qgb3BlbkJ0bkFjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYnV5X19pdGVtLWFjdGlvbi5zaG93YCkgfHwgZWxlbTtcblxuICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBvcGVuQnRuQWN0aW9ucyAmJiBldmVudC50YXJnZXQgIT09IG9wZW5BY3Rpb25zICYmICFvcGVuQWN0aW9ucy5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgb3BlbkFjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZShgc2hvd2ApO1xuICAgIG9wZW5CdG5BY3Rpb25zLmNsYXNzTGlzdC5yZW1vdmUoYHNob3dgKTtcbiAgfVxufSk7XG4iLCJjb25zdCBtb2RhbHMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLm1vZGFsYCldO1xuY29uc3QgY2xvc2VNb2RhbHMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLm1vZGFsX19idG4tY2xvc2VgKV07XG5jb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm92ZXJsYXlgKTtcblxuY29uc3QgYnV0dG9uc09wZW5Nb2RhbEJ1eSA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuYnV5X19pdGVtLWFkZGApXTtcbmNvbnN0IG1vZGFsQnV5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm1vZGFsLS1idXlgKTtcblxuaWYgKGJ1dHRvbnNPcGVuTW9kYWxCdXkubGVuZ3RoID4gMCkge1xuICBidXR0b25zT3Blbk1vZGFsQnV5LmZvckVhY2goKGJ0bikgPT4ge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsICgpID0+IHtcbiAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZChgc2hvd2AsIGBzaG93LW1vZGFsYCk7XG4gICAgICBtb2RhbEJ1eS5jbGFzc0xpc3QuYWRkKGBzaG93YCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5pZiAoY2xvc2VNb2RhbHMubGVuZ3RoID4gMCkge1xuICBjbG9zZU1vZGFscy5mb3JFYWNoKChidG4sIGluZGV4KSA9PiB7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKCkgPT4ge1xuICAgICAgbW9kYWxzW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKGBzaG93YCk7XG4gICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoYHNob3dgLCBgc2hvdy1tb2RhbGApO1xuICAgIH0pO1xuICB9KTtcbn1cblxuY29uc3QgYnV0dG9uc09wZW5Nb2RhbEFkZFVzZXIgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLm1vZGFsLWFkZC11c2VyYCldO1xuY29uc3QgbW9kYWxBZGRVc2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm1vZGFsLS1hZGQtdXNlcmApO1xuXG5pZiAoYnV0dG9uc09wZW5Nb2RhbEFkZFVzZXIubGVuZ3RoID4gMCkge1xuICBidXR0b25zT3Blbk1vZGFsQWRkVXNlci5mb3JFYWNoKChidG4pID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCAoKSA9PiB7XG4gICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoYHNob3dgLCBgc2hvdy1tb2RhbGApO1xuICAgICAgbW9kYWxBZGRVc2VyLmNsYXNzTGlzdC5hZGQoYHNob3dgKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iXX0=